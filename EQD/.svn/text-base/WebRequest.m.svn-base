//
//  WebRequest.m
//  EQD
//
//  Created by 梁新帅 on 2017/3/18.
//  Copyright © 2017年 FitBoy. All rights reserved.
//

#import "WebRequest.h"

@implementation WebRequest
+(Person_comModel*)getPerson_comModel
{
    NSDictionary *dic = [USERDEFAULTS objectForKey:Y_com_user];
   return  [Person_comModel mj_objectWithKeyValues:dic];
}
+(UserModel*)GetUserInfo{
    NSDictionary *dic = [USERDEFAULTS objectForKey:Y_USERINFO];
    return [UserModel mj_objectWithKeyValues:dic];
}
+ (NSString *)sha1:(NSString *)inputString{
    NSData *data = [inputString dataUsingEncoding:NSUTF8StringEncoding];
    uint8_t digest[CC_SHA1_DIGEST_LENGTH];
    CC_SHA1(data.bytes,(unsigned int)data.length,digest);
    NSMutableString *outputString = [NSMutableString stringWithCapacity:CC_SHA1_DIGEST_LENGTH];
    
    for (int i = 0; i < CC_SHA1_DIGEST_LENGTH; i++) {
        [outputString appendFormat:@"%02x",digest[i]];
    }
    return [outputString lowercaseString];
}

+(void)user_loginWithu1:(NSString*)u1 u2:(NSString*)u2 And:(void(^)(NSDictionary *dic))block{

        NSString *pass1 =[NSString stringWithFormat:@"%@EQD",u2];
    NSString *pass= [self sha1:pass1];
    NSString *urlString = [NSString stringWithFormat:@"%@User_login.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_U1:u1,
                                 Z_U2:pass
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)user_enterWithu1:(NSString*)u1 u2:(NSString*)u2 uid:(NSString*)uid And:(void(^)(NSDictionary *dic))block{
    NSString *urlString = [NSString stringWithFormat:@"%@User_enter.aspx",HTTP_HEAD];
    u1=[u1 stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLPathAllowedCharacterSet]];
    NSString *pass1 =[NSString stringWithFormat:@"%@EQD",u2];
    NSString *pass= [self sha1:pass1];
    NSDictionary *parameters = @{
                                 Z_U1:u1,
                                 Z_U2:pass,
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)user_backpassWithtemail:(NSString*)temail  aname:(NSString*)aname And:(void(^)(NSDictionary *dic))block{
    NSString *urlString = [NSString stringWithFormat:@"%@User_backpass.aspx",HTTP_HEAD];
    temail = [temail stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLPathAllowedCharacterSet]];
    aname = [aname stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLPathAllowedCharacterSet]];
    NSDictionary *parameters = @{
                                 Z_TEMAIL:temail,
                                 Z_ANAME:aname
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)user_cpassWithaname:(NSString*)aname apass:(NSString*)apass ran:(NSString*)ran And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_cpass.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_ANAME:aname,
                                 Z_APASS:apass,
                                 Z_RAN:ran
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_AddFriendWithuserid:(NSString*)userid friendid:(NSString*)friendid content:(NSString*)content  iphoto:(NSString*)iphoto And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_AddFriend.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_USERID:userid,
                                 Z_FRIENDID:friendid,
                                 Z_CONTENT:content,
                                 Z_IPHOTO:iphoto
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
       block(@{@"status":@"220",@"error":error});
    }];

}
+(void)User_AddFriend_DealWithuid:(NSString*)uid friendid:(NSString*)friendid res:(NSInteger)res And:(void(^)(NSDictionary *dic))block{
    NSString *urlString = [NSString stringWithFormat:@"%@User_AddFriend_Deal.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_FRIENDID:friendid,
                                 Z_RES:@(res)
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_AddFriend_RequestWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_AddFriend_Request.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
      block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_GetInfoWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_GetInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };

    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}
+(void)User_GetFriendListuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_GetFriendList.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)User_RcHttpclientWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block{
    NSString *urlString = [NSString stringWithFormat:@"%@User_RcHttpclient.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_rname_authenWithiphoto:(UIImage*)iphoto idnum:(NSString*)idnum sex:(int)sex nation:(NSString*)nation brith:(NSString*)brith pnative:(NSString*)pnative email:(NSString*)email uname:(NSString*)uname name:(NSString*)name And:(void(^)(NSDictionary *dic))block{
    NSString *urlString = [NSString stringWithFormat:@"%@User_rname_authen.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_IDNUM:idnum,
                                 Z_SEX:@(sex),
                                 Z_NATION:nation,
                                 Z_BRITH:brith,
                                 Z_PNATIVE:pnative,
                                 Z_EMAIL:email,
                                 Z_UNAME:uname,
                                 Z_NAME:name,
                                 };

    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
   

    [manager POST:urlString parameters:parameters constructingBodyWithBlock:^(id<AFMultipartFormData>  _Nonnull formData) {
        NSData *data =UIImageJPEGRepresentation(iphoto, 0.1);
//        [formData appendPartWithFormData:data name:@"ios_zhengjian.jpg"];
        [formData appendPartWithFileData:data name:@"file" fileName:@"ios_zhengjian.jpg" mimeType:@"image/jpeg"];
        
    } progress:^(NSProgress * _Nonnull uploadProgress) {
        NSLog(@"=上传进度==%@",uploadProgress);
    } success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        NSLog(@"上传失败");
    }];
    
}

+(void)GetuserinfoWithimg:(UIImage *)img And:(void(^)(NSDictionary *dic))block{
    NSString *urlString = [NSString stringWithFormat:@"https://api-cn.faceplusplus.com/cardpp/v1/ocridcard"];
    NSData *data = UIImageJPEGRepresentation(img, 0.5);
    NSString *base64=[data base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];
    
    NSDictionary *parameters = @{
                                 @"api_key":@"BDTL1FCK4QfGQ-0CbMcjctjwYNV5j2wV",
                                 @"api_secret":@"BZe8oWV7CjxfNfO5U5OTWp5a5mRbT8Nb",
                                 @"image_base64":base64
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_DeleteFriendWithuid:(NSString*)uid friendid:(NSString*)friendid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_DeleteFriend.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_FRIENDID:friendid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}
+(void)User_CreateGroupWithuid:(NSString*)uid groupid:(NSString*)groupid groupname:(NSString*)groupname And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_CreateGroup.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_GROUPID:groupid,
                                 Z_GROUPNAME:groupname
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_AddGroupWithuid:(NSString*)uid groupid:(NSString*)groupid groupname:(NSString*)groupname And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_AddGroup.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_GROUPID:groupid,
                                 Z_GROUPNAME:groupname
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)User_QuitGroupWithuid:(NSString*)uid groupid:(NSString*)groupid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_QuitGroup.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_GROUPID:groupid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_DismissGroupWithuid:(NSString*)uid groupid:(NSString*)groupid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_DismissGroup.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_GROUPID:groupid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_SelectGroupMemberWithgroupid:(NSString*)groupid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_SelectGroupMember.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_GROUPID:groupid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Option_contentWithsym:(NSInteger)sym And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Option_content.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_SYM:@(sym)
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager GET:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Option_AreasAnd:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Option_Areas.aspx",HTTP_HEAD];
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:nil progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}
+(void)Option_HangYeAnd:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Option_HangYe.aspx",HTTP_HEAD];
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:nil progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_GetGroupsInfoWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_GetGroupsInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
      block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_loginWithcomname:(NSString*)comname comdutyman:(NSString*)comdutyman comdutyIDnum:(NSString*)comdutyIDnum comdutytel:(NSString*)comdutytel comtype:(NSString*)comtype combusi:(NSString*)combusi comadres:(NSString*)comadres comcontact:(NSString*)comcontact comemai:(NSString*)comemai uid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_login.aspx",HTTP_HEAD];
    
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_COMENAME:comname,
                                 Z_COM_DUTYMAN:comdutyman,
                                 Z_COM_DUTYIDNUM:comdutyIDnum,
                                 Z_COM_DUTYTEL:comdutytel,
                                 Z_COM_TYPE:comtype,
                                 
                                 Z_COM_BUSI:combusi,
                                 Z_COM_ADRES:comadres,
                                 Z_COM_CONTACT:comcontact,
                                 Z_COM_EMAI:comemai
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_UpdateUserInfoWithiphoto:(UIImage *)iphoto name:(NSString*)name sex:(NSInteger)sex  idnum:(NSString*)idnum nation:(NSString*)nation birth:(NSString*)birth pnative:(NSString*)pnative email:(NSString*)email And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_UpdateUserInfo.aspx",HTTP_HEAD];
    NSString *uid = [USERDEFAULTS objectForKey:Y_Zhanghao];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_NAME:name,
                                 Z_SEX:@(sex),
                                 Z_IDNUM:idnum,
                                 Z_NATION:nation,
                                 Z_BRITH:birth,
                                 Z_PNATIVE:pnative,
                                 Z_EMAIL:email
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_UpdateGroupInfoWithgroupid:(NSString*)groupid groupname:(NSString*)groupname groupphoto:(UIImage*)groupphoto And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_UpdateGroupInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_GROUPID:groupid,
                                 Z_GROUPNAME:groupname
                                 };
   
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    
    [manager POST:urlString parameters:parameters constructingBodyWithBlock:^(id<AFMultipartFormData>  _Nonnull formData) {
        if (groupphoto==nil) {
            
        }
        else
        {
        NSData *data = UIImageJPEGRepresentation(groupphoto, 0.1);
        [formData appendPartWithFileData:data name:@"file" fileName:@"ios_quntouxiang.jpg" mimeType:@"image/jpeg"];
        }
    } progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        
    }];
    

}

+(void)User_SelectGroupInfoWithgroupname:(NSString*)groupname groupid:(NSString*)groupid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_SelectGroupInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters;
    if (groupid==nil || [groupid isEqualToString:@""]) {
        parameters = @{
                       Z_GROUPNAME:groupname
                       };
        
    }
    else if(groupname==nil || [groupname isEqualToString:@""])
    {
        parameters = @{
                       Z_GROUPID:groupid
                       };
    }
    
    else
    {
        parameters = @{
                       };
    }
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_GetSimpleInfoWithcid:(NSString*)cid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_GetSimpleInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_CID:cid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
      block(@{@"status":@"220",@"error":error});
    }];

}

+(void)User_JudgeExistWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@User_JudgeExist.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_CreateSectionWithpersonid:(NSString*)personid postname:(NSString*)postname pparent:(NSString*)pparent pdescrib:(NSString*)pdescrib And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_CreateSection.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PERSONID:personid,
                                 Z_POSTNAME:postname,
                                 Z_PPARENT:pparent,
                                 Z_PDESCRIB:pdescrib
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_AddStaffWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_AddStaff.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectSectionWithpersonid:(NSString*)personid And:(void(^)( NSArray *arr))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectSection.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PERSONID:personid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSArray *arr1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(arr1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@[error]);
    }];

}

+(void)Com_rname_authenWithimgArr:(NSArray<UIImage*>*)img codecertifinumb:(NSString*)codecertifinumb buslicensenumb:(NSString*)buslicensenumb productcertifinum:(NSString*)productcertifinum maincustomer:(NSString*)maincustomer registeredassets:(NSString*)registeredassets busscope:(NSString*)busscope bussetdate:(NSString*)bussetdate  busterm:(NSString*)busterm mainbus:(NSString*)mainbus mainbusadress:(NSString*)mainbusadress  staffnum:(NSString*)staffnum  comid:(NSString*)comid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_rname_authen.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_CODECERTIFINUMB:codecertifinumb,
                                 Z_BUSLICENSENUMB:buslicensenumb,
                                 Z_productcertifinum:productcertifinum,
                                 Z_maincustomer:maincustomer,
                                 Z_registeredassets:registeredassets,
                                 Z_busscope:busscope,
                                 Z_bussetdate:bussetdate,
                                 Z_busterm:busterm,
                                 Z_mainbus:mainbus,
                                 Z_mainbusadress:mainbusadress,
                                 Z_staffnum:staffnum,
                                 Z_COMID:comid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    NSArray *arrnames =@[@"dutyIDnumphotofront",@"dutyIDnumphotoback",@"dutyIDnumhandphoto",@"codecertifiphoto",@"buslicensephoto",@"productcertifiphoto"];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters constructingBodyWithBlock:^(id<AFMultipartFormData>  _Nonnull formData) {
        for (int i=0;i<img.count;i++) {
            UIImage *image = img[i];
            NSData *data=UIImageJPEGRepresentation(image, 0.1);
            [formData appendPartWithFileData:data name:arrnames[i] fileName:[NSString stringWithFormat:@"ios_%d.jpg",i] mimeType:@"image/jpeg"];
        }
        
        
    } progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic);
        
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];
    


}

+(void)Com_UpdateSectionNameWithpid:(NSString*)pid pname:(NSString*)pname And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_UpdateSectionName.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PID:pid,
                                 Z_PNAME:pname
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)Com_InsertStaffWithuid:(NSString*)uid cid:(NSString*)cid csec:(NSString*)csec cpost:(NSString*)cpost And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_InsertStaff.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_CID:cid,
                                 Z_csec:csec,
                                 Z_cpost:cpost
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_DeleteSectionWithpid:(NSString*)pid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_DeleteSection.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PID:pid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}


+(ComModel*)getCompanyInfo
{
    NSDictionary *dic = [USERDEFAULTS objectForKey:Y_Company];
    ComModel *model = [ComModel mj_objectWithKeyValues:dic];
    return model;
}

+(void)Com_SelectSection_PartWithpparent:(NSString*)pparent And:(void(^)(NSArray *arr))block{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectSection_Part.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PPARENT:pparent
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSArray *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@[error ]);
    }];

}

+(void)Com_InsertStaffInfoWithu1:(NSString*)u1  name:(NSString*)name imagearr:(NSArray<UIImage*>*)imageArr idnum:(NSString*)idnum sex:(NSString*)sex age:(NSString*)age date:(NSString*)date rdate:(NSString*)rdate pnative:(NSString*)pnative nation:(NSString*)nation mail:(NSString*)mail housetype:(NSString*)housetype houseadress:(NSString*)houseadress And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_InsertStaffInfo.aspx",HTTP_HEAD];
    NSDictionary  *parameters = @{
                                 Z_NAME:name,
                                 Z_IDNUM:idnum,
                                 Z_SEX:sex,
                                 Z_age:age,
                                 Z_date:date,
                                 Z_PNATIVE:pnative,
                                 Z_NATION:nation,
                                 Z_houseadress:houseadress,
                                 Z_housetype:housetype,
                                 Z_rdate:rdate,
                                 Z_UID:u1
                                 };
    NSMutableDictionary *paramters1 =[NSMutableDictionary dictionaryWithDictionary:parameters];
    if (![mail isEqualToString:@"请输入"]) {
        [paramters1 setObject:mail forKey:Z_mail];
        
    }
    
    
    
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    NSArray *arrnames= @[@"iphoto",@"idumfrontphoto",@"idumbackphoto",@"withidumphoto"];
    [manager POST:urlString parameters:paramters1 constructingBodyWithBlock:^(id<AFMultipartFormData>  _Nonnull formData) {
        
        for (int i=0;i<imageArr.count;i++) {
            UIImage *image = imageArr[i];
            NSData *data=UIImageJPEGRepresentation(image, 0.1);
            [formData appendPartWithFileData:data name:arrnames[i] fileName:[NSString stringWithFormat:@"ios_%d.jpg",i] mimeType:@"image/jpeg"];
        }

        
    } progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];
    
    
    
}

+(void)Com_InsertStaffInfo_SupplementWithheigh:(NSString*)heigh weigh:(NSString*)weigh blood:(NSString*)blood czodia:(NSString*)czodia belief:(NSString*)belief  politicstate:(NSString*)politicstate interest:(NSString*)interest padress:(NSString*)padress marry:(NSString*)marry contactname:(NSString*)contactname scontact:(NSString*)scontact scontactrelat:(NSString*)scontactrelat qq:(NSString*)qq wchat:(NSString*)wchat grad:(NSString*)grad edu:(NSString*)edu pskill:(NSString*)pskill foreignclass:(NSString*)foreignclass socialsecuritynum:(NSString*)socialsecuritynum uid:(NSString*)uid major:(NSString*)major And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_InsertStaffInfo_Supplement.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_heigh:heigh,
                                 Z_weigh:weigh,
                                 Z_blood:blood,
                                 Z_czodia:czodia,
                                 Z_belief:belief,
                                 Z_politicstate:politicstate,
                                 
                                 Z_padress:padress,
                                 Z_marry:marry,
                                 Z_contactname:contactname,
                                 Z_scontact:scontact,
                                 Z_scontactrelat:scontactrelat,
                                 Z_grad:grad,
                                 Z_edu:edu,
                                 Z_pskill:pskill,
                                 Z_foreignclass:foreignclass,
                                 Z_socialsecuritynum:socialsecuritynum,
                                 Z_UID:uid,
                                 Z_major:major
                                 };
    
    NSMutableDictionary *paragrameters1 =[NSMutableDictionary dictionaryWithDictionary:parameters];
    if (![qq isEqualToString:@"请输入"]) {
        [paragrameters1 setValue:qq forKey:Z_qq];
    }
    if (![wchat isEqualToString:@"请输入"]) {
        [paragrameters1 setValue:wchat forKey:Z_wchat];
    }
    if (![interest isEqualToString:@"请输入"]) {
        [paragrameters1 setValue:interest forKey:Z_interest];
    }
    
    
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:paragrameters1 progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_CreateCareerWithcareertype:(NSString*)careertype careername:(NSString*)careername postname:(NSString*)postname postnum:(NSString*)postnum And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_CreateCareer.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_careertype:careertype,
                                 Z_careername:careername,
                                 Z_postname:postname,
                                 Z_postnum:postnum
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectCareerWithcid:(NSString*)cid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectCareer.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_CID:cid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectCareer_PartWithpid:(NSString*)pid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectCareer_Part.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PID:pid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)Com_UpdateStaffInfoWithkey:(NSString*)key value:(NSString*)value And:(void(^)(NSDictionary *dic))block
{
    if ([key isEqualToString:@"contacttel"]) {
        key =@"scontact";
    }
    else if ([key isEqualToString:@"contactrelat"]) {
        key =@"scontactrelat";
    }
   else if ([key isEqualToString:@"email"]) {
        key =@"mail";
    }
  else  if ([key isEqualToString:@"interests"]) {
        key = @"interest";
    }
  else  if ([key isEqualToString:@"pskill"]) {
        key =@"skill";
    }
   else if ([key isEqualToString:@"foreighclass"]) {
        key =@"foreignclass";
    }
  else  if ([key isEqualToString:@"weigh"]) {
        key = @"weight";
    }
    else
    {
        
    }
    NSString *uid =[USERDEFAULTS objectForKey:Y_Zhanghao];
    NSString *urlString = [NSString stringWithFormat:@"%@Com_UpdateStaffInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 key:value
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}
+(void)Com_SelectStaffInfoWithuid:(NSString*)uid pass:(NSString*)pass And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectStaffInfo.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid,
                                 Z_pass:pass
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_DeleteCareerWithpid:(NSString*)pid careername:(NSString*)careername And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_DeleteCareer.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_PID:pid,
                                 Z_careername:careername
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_UpdateCareercareertype:(NSString*)careertype careername:(NSString*)careername postname:(NSString*)postname postnum:(NSString*)postnum ID:(NSString*)ID And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_UpdateCareer.aspx",HTTP_HEAD];
  
    
    NSDictionary *parameters = @{
                                 Z_postname:postname,
                                 Z_postnum:postnum,
                                 Z_id:ID
                                 };
    
    NSMutableDictionary *parameters1 =[NSMutableDictionary dictionaryWithDictionary:parameters];
    if ([careername isEqualToString:@""] || careername ==nil) {
        [parameters1 setObject:careertype forKey:Z_careertype];
    }
    else
    {
        [parameters1 setObject:careername forKey:Z_careername];
        
    }
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters1 progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_HR_InviteWithcomid:(NSString*)comid name:(NSString*)name uid:(NSString*)uid  entel:(NSString*)entel  ensec:(NSString*)ensec enpost:(NSString*)enpost enpostnum:(NSString*)enpostnum And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_HR_Invite.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_COMID:comid,
                                 Z_UID:uid,
                                 Z_NAME:name,
                                 Z_entel:entel,
                                 Z_ensec:ensec,
                                 Z_enpost:enpost,
                                 Z_enpostnum:enpostnum
                                 };

    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_AffirmBossbossid:(NSString*)bossid cid:(NSString*)cid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_AffirmBoss.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_CID:cid,
                                 Z_bossid:bossid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)Com_SelectStaffWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectStaff.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SetPersonnelWithuid:(NSString*)uid cid:(NSString*)cid post:(NSString*)post status:(NSString*)status And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SetPersonnel.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_post:post,
                                 Z_UID:uid,
                                 Z_CID:cid,
                                 Z_status:status
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectInviteWithuid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectInvite.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectAutherWithcid:(NSString*)cid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectAuther.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_CID:cid
                                 };

    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_PublishTaskWithtname:(NSString*)tname tparent:(NSString*)tparent tdutyname:(NSString*)tdutyname tdutynum:(NSString*)tdutynum tassisname:(NSString*)tassisname tassisnum:(NSString*)tassisnum tinforname:(NSString*)tinforname tinfonum:(NSString*)tinfonum tbegintimes:(NSString*)tbegintimes tendtimes:(NSString*)tendtimes tcheckstandard:(NSString*)tcheckstandard tchecktimes:(NSString*)tchecktimes tduty:(NSString*)tduty tcreateman:(NSString*)tcreateman tcomid:(NSString*)tcomid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_PublishTask.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_tname:tname,
                                 Z_tparent:tparent,
                                 Z_tdutyname:tdutyname,
                                 Z_tdutynum:tdutynum,
                                 Z_tassisname:tassisname,
                                 Z_tassisnum:tassisnum,
                                 Z_tinforname:tinforname,
                                 Z_tinfonum:tinfonum,
                                 Z_tbegintimes:tbegintimes,
                                 Z_tendtimes:tendtimes,
                                 Z_tcheckstandard:tcheckstandard,
                                 Z_tduty:tduty,
                                 Z_tcreateman:tcreateman,
                                 Z_tcomid:tcomid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectTaskWithID:(NSString*)ID uid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectTask.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_id:ID,
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}
+(void)Com_CompletedTaskWithimgs:(NSArray<UIImage*>*)imgs photoexplain:(NSString*)photoexplain num:(NSString*)num And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_CompletedTask.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_photoexplain:photoexplain,
                                 Z_num:num
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters constructingBodyWithBlock:^(id<AFMultipartFormData>  _Nonnull formData) {
        for (int i=0;i<imgs.count;i++) {
            UIImage *image = imgs[i];
            NSData *data=UIImageJPEGRepresentation(image, 0.1);
            [formData appendPartWithFileData:data name:@"file" fileName:[NSString stringWithFormat:@"ios_%d.jpg",i] mimeType:@"image/jpeg"];
        }
        
    } progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];
    
   
}
+(void)Com_CheckTaskWithcheckend:(NSString*)checkend checkexplain:(NSString*)checkexplain num:(NSString*)num And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_CheckTask.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_checkend:checkend,
                                 Z_checkexplain:checkexplain,
                                 Z_num:num
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Option_JobTypeAnd:(void(^)(NSDictionary *dic))block
{
    
    NSString *urlString = [NSString stringWithFormat:@"%@Option_JobType.aspx",HTTP_HEAD];
   
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:nil progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectTask_CompleteWithID:(NSString*)ID uid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectTask_Complete.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_id:ID,
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
       block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectTask_CheckWithID:(NSString*)ID uid:(NSString*)uid And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectTask_Check.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_id:ID,
                                 Z_UID:uid
                                 };
    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

+(void)Com_SelectSection_EmploymentWithpostnum:(NSString*)postnum And:(void(^)(NSDictionary *dic))block
{
    NSString *urlString = [NSString stringWithFormat:@"%@Com_SelectSection_Employment.aspx",HTTP_HEAD];
    NSDictionary *parameters = @{
                                 Z_postnum:postnum
                                 };

    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
    manager.responseSerializer = [AFHTTPResponseSerializer serializer];
    [manager POST:urlString parameters:parameters progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {
        NSDictionary *dic1 =[NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:nil];
        block(dic1);
    } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        block(@{@"status":@"220",@"error":error});
    }];

}

@end
