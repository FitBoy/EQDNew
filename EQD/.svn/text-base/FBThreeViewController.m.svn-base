//
//  FBThreeViewController.m
//  EQD
//
//  Created by 梁新帅 on 2017/3/18.
//  Copyright © 2017年 FitBoy. All rights reserved.
//
#define Image_height  150
#import "FBThreeViewController.h"
#import "FBScrollView.h"
#import "TFAQViewController.h"
#import "GNBLCollectionViewCell.h"
#import "ThreeRenShiViewController.h"
#import "TKeHuGuanLiViewController.h"
#import "TKaoQinViewController.h"
@interface FBThreeViewController ()<UICollectionViewDelegate,UICollectionViewDataSource>
{
     
    FBScrollView *scrollView;
    UICollectionView *CollectionV;
    NSMutableArray *arr_img_name;
}

@end

@implementation FBThreeViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    self.navigationItem.title = @"易企点工业互联网平台";
    UIBarButtonItem *right =[[UIBarButtonItem alloc]initWithImage:[[UIImage imageNamed:@"add_eqd2"] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal] style:UIBarButtonItemStylePlain target:self action:@selector(kuaijiefangshi)];
    [self.navigationItem setRightBarButtonItem:right];
   
    
    //滚动图
    scrollView =[[FBScrollView alloc]initWithFrame:CGRectMake(0, 64, DEVICE_WIDTH, Image_height) imgs:@[@"EQD1",@"EQD2",@"EQD3",@"EQD4",@"EQD5"]];
    [self.view addSubview:scrollView];
    UICollectionViewFlowLayout  *flowL =[[UICollectionViewFlowLayout alloc]init];
    flowL.itemSize =CGSizeMake(70, 70);
//    flowL.sectionInset = UIEdgeInsetsMake(10, 10, 10, 10);
    flowL.minimumLineSpacing=5;
    flowL.minimumInteritemSpacing=0;
    CollectionV =[[UICollectionView alloc]initWithFrame:CGRectMake(0, Image_height+64, DEVICE_WIDTH, DEVICE_HEIGHT-90-Image_height-49) collectionViewLayout:flowL];
    CollectionV.delegate=self;
    CollectionV.dataSource=self;
    CollectionV.layer.backgroundColor = [UIColor whiteColor].CGColor;
    [self.view addSubview:CollectionV];
    
    [CollectionV registerClass:[GNBLCollectionViewCell class] forCellWithReuseIdentifier:@"CollectionViewCell"];
     arr_img_name =[NSMutableArray arrayWithCapacity:0];
    NSMutableArray *tarr =[NSMutableArray arrayWithArray:@[@"人事",@"客户管理",@"打卡"]];
    
    for (int i=0; i<tarr.count; i++) {
        GNmodel *model = [[GNmodel alloc]init];
        model.biaoji =@"1";
        model.name = tarr[i];
        model.img=@"renShi";
         [arr_img_name addObject:model];
    }
    
    
   
   
    
    
    
}
#pragma mark - collection 数据源与代理
-(NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section{
    return arr_img_name.count;
}
- ( UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath{
    
    GNBLCollectionViewCell *cell= [collectionView dequeueReusableCellWithReuseIdentifier:@"CollectionViewCell" forIndexPath:indexPath];
    GNmodel *model =arr_img_name[indexPath.row];
    [cell setbiaoji:@"1" Withmodel:model];
    return cell;
}
-(void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath{
    if (indexPath.row==0) {
        //人事
        ThreeRenShiViewController *RSvc =[[ThreeRenShiViewController alloc]init];
        RSvc.hidesBottomBarWhenPushed =YES;
        [self.navigationController pushViewController:RSvc animated:NO];
    }
    else if(indexPath.row==1)
    {
        //客户管理
        TKeHuGuanLiViewController *KHGvc =[[TKeHuGuanLiViewController alloc]init];
        KHGvc.hidesBottomBarWhenPushed=YES;
        [self.navigationController pushViewController:KHGvc animated:NO];
        
    }
    else if(indexPath.row==2)
    {
        //打卡
        TKaoQinViewController *KQvc =[[TKaoQinViewController alloc]init];
        [self.navigationController pushViewController:KQvc animated:NO];
        
    }
    else
    {
        
    }
    
}


@end
