//
//  TAddFriendViewController.m
//  EQD
//
//  Created by 梁新帅 on 2017/3/31.
//  Copyright © 2017年 FitBoy. All rights reserved.
//

#import "TAddFriendViewController.h"
#import "FBScanViewController.h"
#import "FBAddFriendViewController.h"
#import "ASearchViewController.h"
#import "FBActivityViewController.h"
#import "ExActivity.h"
@interface TAddFriendViewController ()<UITableViewDelegate,UITableViewDataSource,UISearchBarDelegate>
{
    UITableView *tableV;
    NSMutableArray *arr_names;
    UserModel *user;
    ComModel *com;
}

@end

@implementation TAddFriendViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    user = [WebRequest GetUserInfo];
    com=[WebRequest getCompanyInfo];
    self.navigationItem.title= @"添加好友方式";
    self.automaticallyAdjustsScrollViewInsets = NO;
    UIBarButtonItem *right = [[UIBarButtonItem alloc ]initWithTitle:@"" style:UIBarButtonItemStylePlain target:self action:@selector(fasongClick)];
    [self.navigationItem setRightBarButtonItem:right];
    
    arr_names = [NSMutableArray arrayWithArray:@[@[@"",@"输入手机号加好友"],@[@"",@"扫一扫加好友"],@[@"",@"通讯录加好友"],@[@"",@"邀请好友加入企业"]]];

    tableV = [[UITableView alloc]initWithFrame:CGRectMake(0, 64, DEVICE_WIDTH, DEVICE_HEIGHT-104) style:UITableViewStylePlain];
    tableV.delegate=self;
    tableV.dataSource=self;
    [self.view addSubview:tableV];
    tableV.rowHeight=50;
    
}
-(void)fasongClick
{
    
}


#pragma  mark - 表的数据源
-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return arr_names.count;
}
-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    static NSString *cellId=@"cellID";
    UITableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellId];
    if (!cell) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleValue1 reuseIdentifier:cellId];
        cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
    }
    NSArray *arr = arr_names[indexPath.row];
    cell.textLabel.text =arr[1];
    cell.imageView.image = [UIImage imageNamed:arr[0]];
    
    return cell;
}

#pragma  mark - 表的协议代理
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    switch (indexPath.row) {
            case 0:
        {
            NSLog(@"输入手机号添加好友");
            ASearchViewController *Avc =[[ASearchViewController alloc]init];
            Avc.hidesBottomBarWhenPushed =YES;
            [self.navigationController pushViewController:Avc animated:NO];
        }
            break;
        case 1:
        {
        NSLog(@"扫一扫");
            FBScanViewController  *Svc =[[FBScanViewController alloc]init];
            [self.navigationController pushViewController:Svc animated:NO];
        }
            break;
        case 2:
        {
         NSLog(@"通讯录加好友");
            FBAddFriendViewController  *avc =[[FBAddFriendViewController alloc]init];
            [self.navigationController pushViewController:avc animated:NO];
            
        }
            break;
        case 3:
        {
         //邀请好友加入企业
            ExActivity *activity=[[ExActivity alloc]init];
            activity.messageContent = [RCTextMessage messageWithContent:[NSString stringWithFormat:@"【易企点】<%@>正在使用易企点邀您加入<%@>企业，企业编码：<%@>\n您可以通过该企业编码申请加入该企业。\n为工作，一起点，高效工作从易企点开始。下载链接：http://eqidd.com",user.name,com.comname,com.comid]];
           
            FBActivityViewController *ACvc =[[FBActivityViewController alloc]initWithActivityItems:@[[NSString stringWithFormat:@"【易企点】<%@>正在使用易企点邀您加入<%@>企业，企业编码：<%@>\n您可以通过该企业编码申请加入该企业。\n为工作，一起点，高效工作从易企点开始。下载链接：http://eqidd.com",user.name,com.comname,com.comid], [UIImage imageNamed:@"eqd"]] applicationActivities:@[activity]];
            
            [self  presentViewController:ACvc animated:NO completion:nil];
        }
            break;
      
            
        default:
            break;
    }
}


@end
