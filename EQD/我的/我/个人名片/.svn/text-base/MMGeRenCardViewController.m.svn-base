//
//  MMGeRenCardViewController.m
//  YiQiDian
//
//  Created by 梁新帅 on 2017/3/16.
//  Copyright © 2017年 FitBoy. All rights reserved.
//

#import "MMGeRenCardViewController.h"
#import "MyFirstTableViewCell.h"
#import "WebRequest.h"
#import "FBMyErWeiMaViewController.h"
#import "FBConversationViewControllerViewController.h"
@interface MMGeRenCardViewController ()<UITableViewDelegate,UITableViewDataSource>
{
    UITableView *tableV;
    NSMutableArray *arr_names1;
    NSMutableArray *arr_names2;
    NSMutableArray *arr_names3;
    NSMutableArray *arr_names4;
    NSMutableArray *arr_contents1;
    NSMutableArray *arr_contents2;
    NSMutableArray *arr_contents3;
    NSMutableArray *arr_contents4;
    NSMutableArray *arr_big;
}

@end

@implementation MMGeRenCardViewController
-(void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    [self loadRequestData];
}
-(void)loadRequestData{
    
  
    
}
- (void)viewDidLoad {
    [super viewDidLoad];
    self.title = @"个人名片";
    arr_names1 = [NSMutableArray arrayWithArray:@[@"电话号码",@"地区",@"标签"]];
    arr_names2 = [NSMutableArray arrayWithArray:@[@"公司",@"部门/职务"]];
    arr_names3 = [NSMutableArray arrayWithArray:@[@"工作相册"]];
    arr_names4 = [NSMutableArray arrayWithArray:@[@"发消息"]];
    arr_big = [NSMutableArray arrayWithCapacity:0];
    [arr_big addObject:arr_names1];
    [arr_big addObject:arr_names2];
    [arr_big addObject:arr_names3];
    [arr_big addObject:arr_names4];
    tableV = [[UITableView alloc]initWithFrame:CGRectMake(0, 0, DEVICE_WIDTH, DEVICE_HEIGHT) style:UITableViewStyleGrouped];
    tableV.delegate=self;
    tableV.dataSource=self;
    [self.view addSubview:tableV];
    tableV.rowHeight=60;
    
}

#pragma  mark - 表的数据源
-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
    return arr_big.count+1;
}
-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (section==0) {
        return 1;
    }
    else
    {
    NSArray *arr = arr_big[section-1];
    return arr.count;
    }
}
-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    static NSString *cellId1=@"cellID1";
    if (indexPath.section==0) {
        MyFirstTableViewCell *cell1 =[tableView dequeueReusableCellWithIdentifier:cellId1];
        if (!cell1) {
            cell1 =[[MyFirstTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId1];
        }
        [cell1.B_erWeima addTarget:self action:@selector(erweimaClick) forControlEvents:UIControlEventTouchUpInside];
        
        
        return cell1;
        
        
    }
    
    else
    {
    
    
    static NSString *cellId=@"cellID";
    UITableViewCell *cell =[tableView dequeueReusableCellWithIdentifier:cellId];
    if (!cell) {
        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];
        cell.accessoryType = UITableViewCellAccessoryNone;
        cell.selectionStyle=UITableViewCellSelectionStyleNone;
    }
        if (indexPath.section==4) {
            cell.contentView.layer.backgroundColor = [UIColor greenColor].CGColor;
            cell.textLabel.textAlignment = NSTextAlignmentCenter;
            cell.textLabel.textColor = [UIColor whiteColor];
        }
        
        
        cell.textLabel.text = arr_big[indexPath.section-1][indexPath.row];
    return cell;
    }
}

-(void)erweimaClick{
    FBMyErWeiMaViewController *EWvc = [[FBMyErWeiMaViewController alloc]init];
    [self.navigationController pushViewController:EWvc animated:NO];
}


#pragma  mark - 表的协议代理
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if (indexPath.section==4) {
        if (indexPath.row==0) {
            //发消息
            FBConversationViewControllerViewController  *CVvc =[[FBConversationViewControllerViewController alloc]initWithConversationType:ConversationType_PRIVATE targetId:nil];
            CVvc.navigationItem.title = @"";
            [self.navigationController pushViewController:CVvc animated:NO];
            
            
        }
        else
        {
            
        }
    }
}



@end
